<?xml version="1.0" encoding="UTF-8"?>
<!-- 지현 qna mapper -->
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itwill.shape.repository.InfoQnARepository">

	<select id="selectOrderByQidDesc">
		select * from INFO_QNA order by QID desc
	</select>

	<select id="selectByQid">
		select * from INFO_QNA where QID = #{qid}
	</select>

	<insert id="insert">
		INSERT INTO INFO_QNA (TITLE, CONTENT, WRITER, CREATED_DATE)
		VALUES (#{title}, #{content}, #{writer}, systimestamp)
	</insert>

	<update id="updateAnswerToQnA">
		update INFO_QNA set 
		AN_TITLE = #{an_title}, AN_COMMENT = #{an_comment}, 
		ANSWER_DATE = systimestamp 
		where QID = ${qid}
	</update>
	
	<delete id="deleteByQid">
		delete from INFO_QNA where QID = #{qid}
	</delete>

</mapper>